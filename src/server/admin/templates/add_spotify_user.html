{% extends "base.html" %}

{% block css %}
    <link type="text/css" rel="stylesheet" href="/static/css/own/pulse.css"
          media="screen,projection"/>
{% endblock %}

{% block main %}

    <div id="main-box" style="height: 100vh">
        <div class="container margin-top z-depth-3 rounded" id="playlist-box">

            <div class="center small-padding-top">
                <h1>Select a Spotify User</h1>
                {% for user_id, user in spotify_users.items() %}

                    <div class="row flex-v-center">
                        <div class="col s2 center no-padding">
                            <div class="rectangle image-pulse">
                                {% if user["images"]|length > 0 %}
                                    <div class="image background-image pointer"
                                         style="background-image: url('{{ user["images"][0]["url"] }}')"></div>
                                {% else %}


                                    <div class="icon">
                                        <svg width="80" height="81" viewBox="0 0 80 81"
                                             xmlns="http://www.w3.org/2000/svg"><title>Playlist Icon</title>
                                            <path d="M25.6 11.565v45.38c-2.643-3.27-6.68-5.37-11.2-5.37-7.94 0-14.4 6.46-14.4 14.4s6.46 14.4 14.4 14.4 14.4-6.46 14.4-14.4v-51.82l48-10.205V47.2c-2.642-3.27-6.678-5.37-11.2-5.37-7.94 0-14.4 6.46-14.4 14.4s6.46 14.4 14.4 14.4S80 64.17 80 56.23V0L25.6 11.565zm-11.2 65.61c-6.176 0-11.2-5.025-11.2-11.2 0-6.177 5.024-11.2 11.2-11.2 6.176 0 11.2 5.023 11.2 11.2 0 6.174-5.026 11.2-11.2 11.2zm51.2-9.745c-6.176 0-11.2-5.024-11.2-11.2 0-6.174 5.024-11.2 11.2-11.2 6.176 0 11.2 5.026 11.2 11.2 0 6.178-5.026 11.2-11.2 11.2z"
                                                  fill="currentColor" fill-rule="evenodd"></path>
                                        </svg>
                                    </div>

                                    <div class="image background-image pointer"
                                         style="background-color: #282828;"></div>
                                {% endif %}
                            </div>
                        </div>
                        <div class="col s10">

                            <table>
                                <tbody>
                                <tr>
                                    <td>Name</td>
                                    <td>
                                        <a class="pointer underline black-text"
                                           onclick="window.open('{{ user["external_urls"]["spotify"] }}')">{{ user["display_name"] }}
                                        </a>
                                    </td>
                                </tr>
                                <tr>
                                    <td>Playlist Count</td>
                                    <td>{{ user["playlist_count"] }}</td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <ul>
                        <li class="divider"></li>
                    </ul>
                {% endfor %}
            </div>
        </div>
    </div>


    <div class="fixed-action-btn">
        <a class="btn-floating btn-large" href="{{ url_for("api.authorize") }}">
            <i class="very-large large material-icons">add</i>
        </a>
    </div>



{% endblock %}